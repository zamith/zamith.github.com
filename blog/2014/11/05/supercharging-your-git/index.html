
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Supercharging your git - Crazy Little Hacks</title>
  <meta name="author" content="Zamith">

  
  <meta name="description" content="Git is so awesome and packs so much power that I could hardly fit it all in a
blog post (or 100 for that matter). What this post will talk about &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://zamith.github.io/blog/2014/11/05/supercharging-your-git">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/CrazyLittleHacks" rel="alternate" title="Crazy Little Hacks" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-26971772-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Crazy Little Hacks</a></h1>
  
    <h2>Some little hacks and random thoughts on what interests me at the moment in the area of computer science.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/CrazyLittleHacks" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://www.duckduckgo.com/" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:zamith.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Supercharging Your Git</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-11-05T10:37:00-06:00" pubdate data-updated="true">Nov 5<span>th</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Git is so awesome and packs so much power that I could hardly fit it all in a
blog post (or 100 for that matter). What this post will talk about though, are a
couple of ways to extend your git for it to better serve you on your everyday
tasks.</p>

<h2>ZSH</h2>

<p>This is post is <strong>not</strong> about ZSH, but it is awesome and you should install it. All
the configs will assume you are using it, but surely there are ways of doing the
same for your shell of choice.</p>

<h2>Hub</h2>

<blockquote><p>hub is a command line tool that wraps <code>git</code> in order to extend it with extra
features and commands that make working with GitHub easier.</p></blockquote>

<p>This is the description taken straight out of the project&#8217;s README. Hub is
written by the guys at Github, so it is very much compliant with everything on
the site. As of recently you can install it with Homebrew (non-mac users will
have to compile it manuallly, I believe).</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>brew install --HEAD hub  # For the 2.x version</span></code></pre></td></tr></table></div></figure>


<p>Now you can use <code>hub</code> and all it&#8217;s powers. The sane thing to do though, is to
alias <code>git</code> to <code>hub</code>, which works perfectly as <code>hub</code> will delegate all non-hub
commands to <code>git</code>.</p>

<p>Just open your <code>.zshrc</code> and add the alias:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>alias git='hub'</span></code></pre></td></tr></table></div></figure>


<p>When you brew install <code>hub</code> you will see that it installs completion files to
you system.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>zsh completion has been installed to:
</span><span class='line'>  /usr/local/share/zsh/site-functions</span></code></pre></td></tr></table></div></figure>


<p>If you run <code>echo $fpath</code> on your terminal that path should be there. <code>fpath</code>
stands for functions path and you can store you functions in any directory
listed in <code>fpath</code>. Read more about zsh functions
<a href="http://zsh.sourceforge.net/Doc/Release/Functions.html">here</a>.</p>

<p>This will provide auto-complete functionality for all your <code>git</code> needs.</p>

<p>If you are like me, though, and <code>git</code> is the command you use more often (about
30% of the time in my case), you will probably want to alias it to something
shorter, such as <code>g</code>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>alias g='git'</span></code></pre></td></tr></table></div></figure>


<p>So now <code>g</code> maps to <code>git</code> which maps to <code>hub</code>. Great! We have, however,
introduced an issue. Auto-complete is broken. That is because the git auto
completion function is only expecting <code>git</code> or <code>gitk</code> as commands to auto
complete.</p>

<p>You can add <code>g</code> to that set easily enough. Again, open your <code>.zshrc</code> and add
<code>compdef g=git</code>.</p>

<p>You should have everything ready to go.</p>

<h2>Git commands</h2>

<p>Hub adds some really nice things, but what about those specific commands you
love to use? At some point all of us have added commands as aliases in
<code>gitconfig</code>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[alias]
</span><span class='line'>    ia = add --intent-to-add -A</span></code></pre></td></tr></table></div></figure>


<p>This is not inherently bad, but it can go out of hand pretty quickly. Moreover,
you don&#8217;t really have a lot of scripting power with these aliases. As you might
have guessed by now, there is a better way of doing this and it is so cool that
even some of the <a href="https://github.com/git/git/blob/master/git-bisect.sh">builtin commands use this strategy</a>.</p>

<p>The basic idea is that any executable script on you <code>PATH</code> that is named
<code>git-some-name</code> will be available as a git subcommand, which means you could do
<code>git some-name</code> to run the script.</p>

<p>Git is so awesome that it even adds them to <code>git help -a</code> under the title &#8220;git
commands available from elsewhere on your $PATH&#8221;, which will then power the auto
completion, so that will also work for any command you add.</p>

<p>Going back to our example, there&#8217;s a couple of things to do to remove it from an
alias into a command, add a directory to the <code>PATH</code> and create a script on that
directory.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir -p ~/dotfiles/git_commands
</span><span class='line'>export PATH="$HOME/dotfiles/git_commands"  # Also add this to you zshrc, to persist it
</span><span class='line'>echo "git add --intent-to-add -A" &gt; ~/dotfiles/git_commands/git-ia</span></code></pre></td></tr></table></div></figure>


<p>You should now be able to remove the alias from the <code>gitconfig</code> and still be able
to run <code>git ia</code>.</p>

<h3>Bonus round</h3>

<p>Git will just grab the scripts that follow the aforementioned convention and run
them. That means that as long as the shebang is correctly set, you can write a
script in any scripting language.</p>

<p>Here&#8217;s one in ruby:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#!/usr/bin/env ruby
</span><span class='line'>
</span><span class='line'>puts "Hello"</span></code></pre></td></tr></table></div></figure>


<p>Just name it <code>git-hello</code>, put it in your <code>git_commands</code> directory and you should
be able to type <code>g hello</code> and have git say &#8220;Hello&#8221; back.</p>

<h3>Further reading</h3>

<p>If you want to check some actual examples you can do it in <a href="https://github.com/zamith/dotfiles/tree/master/git_plugins">my dotfiles</a>
or in <a href="https://github.com/pengwynn/dotfiles/tree/master/bin">Wynn Netherland&#8217;s dotfiles</a>.
This post was inspired by a talk given by Wynn at the <a href="http://www.dallasrb.org/">DallasRB meetup</a>,
so do check his stuff.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Zamith</span></span>

      








  


<time datetime="2014-11-05T10:37:00-06:00" pubdate data-updated="true">Nov 5<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/git/'>git</a>, <a class='category' href='/blog/categories/productivity/'>productivity</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://zamith.github.io/blog/2014/11/05/supercharging-your-git/" data-via="zamith" data-counturl="http://zamith.github.io/blog/2014/11/05/supercharging-your-git/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/09/22/vim-project-specific-config/" title="Previous Post: Vim project specific configs">&laquo; Vim project specific configs</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section id="about">
  <h1>About Me</h1>
  <img id="me" src="/images/me.jpg" alt="Zamith">

  <p>I'm the Co-Founder of <a href="http://www.groupbuddies.com/">Group Buddies</a></p>

  <p>I live in Braga, Portugal. I'm a geek, clean code lover and bballer.</p>

  <p>All opinions are my own and don't necessarily reflect those of my employer.</p>

  <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a>

  <a href="mailto:luis@zamith.pt"><img id="pair-with-me" src="http://pairprogramwith.me/badge.png" alt="Pair program with me!" ></a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/11/05/supercharging-your-git/">Supercharging your git</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/22/vim-project-specific-config/">Vim project specific configs</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/10/rust-vs-ruby/">Rust vs Ruby</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/06/02/autoreload-with-vim/">Autoreload with Vim</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/11/testing-js-with-rspec-features/">Testing JS with RSpec features</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/zamith">@zamith</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'zamith',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("zamith", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/zamith" class="twitter-follow-button" data-show-count="false">Follow @zamith</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Zamith -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'crazylittlehacks';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://zamith.github.io/blog/2014/11/05/supercharging-your-git/';
        var disqus_url = 'http://zamith.github.io/blog/2014/11/05/supercharging-your-git/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
